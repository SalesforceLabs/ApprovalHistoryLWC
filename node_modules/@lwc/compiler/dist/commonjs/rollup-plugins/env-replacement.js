"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const rollup_plugin_replace_1 = __importDefault(require("rollup-plugin-replace"));
function default_1({ options }) {
    const { env } = options.outputConfig;
    const patterns = {};
    if (env.NODE_ENV) {
        // Use JSON.stringify to add wrapping quotes around the env.NODE_ENV value. The
        // rollup-plugin-replace is doing a simple search and replace in the code, the wrapping
        // quote are necessary other it will produce an identifier instead of a string.
        patterns[`process.env.NODE_ENV`] = JSON.stringify(env.NODE_ENV);
    }
    return rollup_plugin_replace_1.default({
        values: patterns,
        sourcemap: options.outputConfig.sourcemap,
    });
}
exports.default = default_1;
//# sourceMappingURL=env-replacement.js.map